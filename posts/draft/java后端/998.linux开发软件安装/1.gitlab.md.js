webpackJsonp([89],{610:function(a,s){a.exports={content:["article",["h1","\u5b89\u88c5\u955c\u50cf\u6e90"],["pre",{lang:null,highlighted:'curl <span class="token operator">-</span>s https<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>packages<span class="token punctuation">.</span>gitlab<span class="token punctuation">.</span>com<span class="token operator">/</span>install<span class="token operator">/</span>repositories<span class="token operator">/</span>gitlab<span class="token operator">/</span>gitlab<span class="token operator">-</span>ce<span class="token operator">/</span>script<span class="token punctuation">.</span>rpm<span class="token punctuation">.</span>sh | sudo bash'},["code","curl -s https://packages.gitlab.com/install/repositories/gitlab/gitlab-ce/script.rpm.sh | sudo bash"]],["h1","\u5b89\u88c5\u8f6f\u4ef6"],["pre",{lang:null,highlighted:'yum <span class="token operator">-</span>y install gitlab<span class="token operator">-</span>ce '},["code","yum -y install gitlab-ce "]],["h1","\u914d\u7f6e\u4e3b\u673aIP:PORT"],["pre",{lang:null,highlighted:'vim <span class="token operator">/</span>etc<span class="token operator">/</span>gitlab<span class="token operator">/</span>gitlab<span class="token punctuation">.</span>rb'},["code","vim /etc/gitlab/gitlab.rb"]],["pre",{lang:null,highlighted:'external_url <span class="token punctuation">[</span>ip<span class="token punctuation">:</span>port<span class="token punctuation">]</span>'},["code","external_url [ip:port]"]],["p","\u9664\u6b64\u4e4b\u5916\u9700\u8981\u68c0\u67e5\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u5404\u4e2a\u7aef\u53e3\uff0c\u662f\u5426\u88ab\u5176\u4ed6\u5e94\u7528\u5360\u7528\uff0c\u5904\u7406\u7aef\u53e3\u51b2\u7a81\u540e\u5e94\u7528\u624d\u80fd\u6b63\u5e38\u8bbf\u95ee\u3002\n\u7aef\u53e3\u76f8\u5173\u914d\u7f6e\u6709\uff1a"],["ul",["li",["p","gitlab_rails",["span","'smtp_port'"]," = 465"]],["li",["p","gitlab_rails",["span","'incoming_email_port'"]," = 993"]],["li",["p","gitlab_rails",["span","'ldap_servers'"]," port: 389"]],["li",["p","gitlab_rails",["span","'smartcard_client_certificate_required_port'"]," = 3444"]],["li",["p","gitlab_rails",["span","'forti_authenticator_port'"]," = 443"]],["li",["p","gitlab_rails",["span","'gitlab_shell_ssh_port'"]," = 22"]],["li",["p","gitlab_rails",["span","'db_port'"]," = 5432"]],["li",["p","gitlab_rails",["span","'redis_port'"]," = 6379"]],["li",["p","gitlab_rails",["span","'redis_sentinels'"]," 'port' => 26379"]],["li",["p","gitlab_rails",["span","'registry_port'"],' = "5005"']],["li",["p","registry",["span","'registry_http_addr'"],' = "127.0.0.1:5000"']],["li",["p","puma",["span","'port'"]," = 8080"]],["li",["p","puma",["span","'exporter_port'"]," = 8083"]],["li",["p","sidekiq",["span","'health_checks_listen_port'"]," = 8092"]],["li",["p","nginx",["span","'redirect_http_to_https_port'"]," = 80"]],["li",["p","nginx",["span","'status'"],' "port" => 9999']],["li",["p","logging",["span","'udp_log_shipping_port'"]," = 514"]],["li",["p","mattermost",["span","'service_port'"],' = "8065"']],["li",["p","registry_nginx",["span","'listen_port'"]," = 5050"]],["li",["p","postgres_exporter",["span","'listen_address'"]," = 'localhost:9187'"]],["li",["p","pgbouncer_exporter",["span","'listen_address'"]," = 'localhost:9188'"]],["li",["p","gitlab_exporter",["span","'listen_port'"]," = '9168'"]],["li",["p","gitlab_exporter",["span","'elasticsearch_url'"]," = '",["a",{title:null,href:"http://localhost:9200"},"http://localhost:9200"],"'"]],["li",["p","postgres.external 6432 5432"]],["li",["p","gitlab_rails",["span","'kerberos_port'"]," = 8443"]],["li",["p","sentinel",["span","'port'"]," = 26379"]],["li",["p","geo_secondary",["span","'db_port'"]," = 5431"]],["li",["p","pgbouncer",["span","'listen_port'"]," = '6432'"]],["li",["p","patroni",["span","'port'"]," = '8008'"]],["li",["p","gitlab_rails",["span","'service_desk_email_port'"]," = 993"]],["li",["p","spamcheck",["span","'port'"]," = 8001"]],["li",["p","spamcheck",["span","'monitoring_address'"]," = ':8003'"]],["li",["p","gitlab_rails",["span","'smtp_port'"]," = 465"]]],["h1","\u91cd\u8f7d\u914d\u7f6e\uff0c\u91cd\u542f\u670d\u52a1"],["pre",{lang:null,highlighted:'gitlab<span class="token operator">-</span>ctl reconfigure\ngitlab<span class="token operator">-</span>ctl restart'},["code","gitlab-ctl reconfigure\ngitlab-ctl restart"]],["h1","\u8bbf\u95ee\u5e94\u7528"],["p","\u7528\u6237\u540d\uff1aroot\n\u67e5\u770b\u5bc6\u7801\uff1a"],["pre",{lang:null,highlighted:'cat <span class="token operator">/</span>etc<span class="token operator">/</span>gitlab<span class="token operator">/</span>initial_root_password'},["code","cat /etc/gitlab/initial_root_password"]],["h1","\u6570\u636e\u5907\u4efd"],["pre",{lang:null,highlighted:'gitlab<span class="token operator">-</span>rake gitlab<span class="token punctuation">:</span>backup<span class="token punctuation">:</span>create'},["code","gitlab-rake gitlab:backup:create"]],["h1","\u6570\u636e\u8fd8\u539f"],["h2","\u505c\u6b62\u670d\u52a1"],["pre",{lang:null,highlighted:'gitlab<span class="token operator">-</span>ctl stop'},["code","gitlab-ctl stop"]],["h2","\u6062\u590d\u6570\u636e\u5e93"],["pre",{lang:null,highlighted:'gitlab<span class="token operator">-</span>rake db<span class="token punctuation">:</span>restore BACKUP<span class="token operator">=</span>1592487787_2020_06_13_11<span class="token punctuation">.</span><span class="token number">6.0</span>'},["code","gitlab-rake db:restore BACKUP=1592487787_2020_06_13_11.6.0"]],["h2","\u6062\u590d\u4ed3\u5e93\u6570\u636e"],["pre",{lang:null,highlighted:'gitlab<span class="token operator">-</span>ctl reconfigure\ngitlab<span class="token operator">-</span>rake gitlab<span class="token punctuation">:</span>backup<span class="token punctuation">:</span>restore BACKUP<span class="token operator">=</span>1592487787_2020_06_13_11<span class="token punctuation">.</span><span class="token number">6.0</span>'},["code","gitlab-ctl reconfigure\ngitlab-rake gitlab:backup:restore BACKUP=1592487787_2020_06_13_11.6.0"]],["h2","\u542f\u52a8\u670d\u52a1"],["pre",{lang:null,highlighted:'gitlab<span class="token operator">-</span>ctl start'},["code","gitlab-ctl start"]]],meta:{filename:"posts/draft/java\u540e\u7aef/998.linux\u5f00\u53d1\u8f6f\u4ef6\u5b89\u88c5/1.gitlab.md"}}}});