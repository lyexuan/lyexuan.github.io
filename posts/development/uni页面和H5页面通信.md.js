webpackJsonp([91],{560:function(n,s){n.exports={content:["article",["h3","\u4e00\u3001\u524d\u7f6e\u6761\u4ef6"],["h4","\uff081\uff09H5\u9875\u9762\u9700\u8981\u5f15\u5165uni\u811a\u672c"],["pre",{lang:"html",highlighted:'<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://js.cdn.aliyun.dcloud.net.cn/dev/uni-app/uni.webview.1.5.2.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>'},["code",'<script src="https://js.cdn.aliyun.dcloud.net.cn/dev/uni-app/uni.webview.1.5.2.js"><\/script>']],["p","\u8be5\u811a\u672c\u6700\u597d\u8981\u5728\u6240\u6709\u811a\u672c\u5f15\u7528\u7684\u6700\u5f00\u5934\uff0c\u4fdd\u969cH5\u9875\u9762\u80fd\u5c3d\u65e9\u5730\u5177\u5907\u548cuni\u9875\u9762\u901a\u4fe1\u7684\u80fd\u529b\u3002"],["h3","\u4e8c\u3001uni\u5411H5\u9875\u9762\u4f20\u9012\u6570\u636e"],["h4","\uff081\uff09\u901a\u8fc7url\u4f20\u53c2"],["p","\u5e38\u89c4\u505a\u6cd5\uff0c\u4e0d\u505a\u8fc7\u591a\u8bf4\u660e\u3002"],["h4","\uff082\uff09\u901a\u8fc7h5+api\u6267\u884cwebview\u5bf9\u8c61\u7684\u65b9\u6cd5"],["p","\u9996\u5148\u5728H5\u9875\u9762\u9700\u8981\u5b9a\u4e49\u4e00\u4e2a\u5168\u5c40\u4f5c\u7528\u57df\u4e0b\u7684\u65b9\u6cd5\uff1a"],["pre",{lang:"javascript",highlighted:'window<span class="token punctuation">.</span>testFn <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>param<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>param<span class="token punctuation">)</span>\n<span class="token punctuation">}</span>'},["code","window.testFn = function (param) {\n    console.log(param)\n}"]],["p","H5\u9875\u9762\u662f\u901a\u8fc7uni\u9875\u9762\u7684webview\u7ec4\u4ef6\u8fdb\u884c\u52a0\u8f7d\u7684\uff0c\u6b64\u65f6h5\u9875\u9762\u7684webview\u662funi\u9875\u9762\u7684\u5b50webview\uff0c\u83b7\u53d6\u5230webview\u540e\u6267\u884ch5+\u63d0\u4f9b\u7684api\uff0c\u53ef\u6267\u884cwebview\u4e2d\u7684\u5168\u5c40\u65b9\u6cd5\uff1a"],["pre",{lang:"javascript",highlighted:'<span class="token comment" spellcheck="true">// \u83b7\u53d6uni\u9875\u9762\u7684webview\u5bf9\u8c61</span>\n<span class="token keyword">const</span> currentWebview <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$mp<span class="token punctuation">.</span>page<span class="token punctuation">.</span><span class="token function">$getAppWebview</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n<span class="token comment" spellcheck="true">// \u83b7\u53d6\u5b50webview</span>\n<span class="token keyword">const</span> childWebview <span class="token operator">=</span> currentWebview<span class="token punctuation">.</span><span class="token function">children</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>\n<span class="token comment" spellcheck="true">// \u6267\u884c\u5b50webview\u4e2d\u7684\u65b9\u6cd5</span>\nchildWebview<span class="token punctuation">.</span><span class="token function">evalJS</span><span class="token punctuation">(</span><span class="token string">\'testFn("param")\'</span><span class="token punctuation">)</span>'},["code","// \u83b7\u53d6uni\u9875\u9762\u7684webview\u5bf9\u8c61\nconst currentWebview = this.$mp.page.$getAppWebview()\n// \u83b7\u53d6\u5b50webview\nconst childWebview = currentWebview.children()[0]\n// \u6267\u884c\u5b50webview\u4e2d\u7684\u65b9\u6cd5\nchildWebview.evalJS('testFn(\"param\")')"]],["h3","\u4e09\u3001H5\u9875\u9762\u5411uni\u4f20\u9012\u6570\u636e"],["h4","\uff081\uff09\u901a\u8fc7webview\u7ec4\u4ef6\u76d1\u542ch5\u9875\u9762\u7684\u6d88\u606f\u4e8b\u4ef6"],["h5","1.uni\u9875\u9762\u76d1\u542cwebview\u7ec4\u4ef6\u7684message\u4e8b\u4ef6"],["pre",{lang:"html",highlighted:'<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>\n\t<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>web-view</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>url<span class="token punctuation">"</span></span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>url<span class="token punctuation">"</span></span> <span class="token attr-name">@message</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>getMessage<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>web-view</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript">\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>\n    data <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token punctuation">{</span>\n          url<span class="token punctuation">:</span> <span class="token string">\'/hybrid/html/index.html\'</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n        <span class="token function">getMessage</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">)</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>    \n</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>'},["code",'<template>\n\t<web-view v-if="url" :src="url" @message="getMessage"></web-view>\n</template>\n<script>\nexport default {\n    data () {\n        return {\n          url: \'/hybrid/html/index.html\'\n        }\n    },\n    methods: {\n        getMessage(e) {\n            console.log(JSON.stringify(e))\n        }\n    }\n}    \n<\/script>']],["p","\u6ce8\u610f\uff1auni-app\u9879\u76ee\u7684\u914d\u7f6e\u6587\u4ef6manifest.json\u9700\u8981\u5347\u7ea7\u5230\u81f3\u5c11\u7248\u672c3\uff0c\u5426\u5219\u4e0d\u80fd\u987a\u5229\u7684\u63a5\u6536\u5230H5\u9875\u9762\u4f20\u9012\u7684\u6d88\u606f\u3002"],["h5","2.H5\u9875\u9762\u53d1\u9001\u6d88\u606f"],["pre",{lang:"javascript",highlighted:'<span class="token keyword">const</span> uni <span class="token operator">=</span> window<span class="token punctuation">.</span>uni\n<span class="token keyword">if</span> <span class="token punctuation">(</span>uni<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    uni<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n        data<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n            action<span class="token punctuation">:</span> <span class="token string">\'message\'</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span>'},["code","const uni = window.uni\nif (uni) {\n    uni.postMessage({\n        data: {\n            action: 'message'\n        }\n    })\n}"]]],meta:{title:"uni\u9875\u9762\u548cH5\u9875\u9762\u901a\u4fe1",publishDate:"2020-04-22T00:00:00.000Z",createDate:"2020-04-22T00:00:00.000Z",category:"development",abstract:"uni-app\u9875\u9762\u548cH5\u9875\u9762\u901a\u4fe1",filename:"posts/development/uni\u9875\u9762\u548cH5\u9875\u9762\u901a\u4fe1.md"}}}});